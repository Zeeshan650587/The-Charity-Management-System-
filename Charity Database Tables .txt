-- Create database
CREATE DATABASE CharityDB;
GO

USE CharityDB;
GO

✅ 1. Donors Table

-- Table for Donors
CREATE TABLE Donors (
    DonorID INT IDENTITY(1,1) PRIMARY KEY,
    Name NVARCHAR(255) NOT NULL,
    Email NVARCHAR(255) UNIQUE,
    Phone NVARCHAR(20),
    Address NVARCHAR(MAX),
    DonationAmount DECIMAL(10,2) DEFAULT 0.00,
    CreatedAt DATETIME DEFAULT GETDATE()
);

-- Sample Data for Donors
INSERT INTO Donors (Name, Email, Phone, Address, DonationAmount)
VALUES 
('Ali Khan', 'ali.khan@example.com', '03001234567', 'Lahore, Pakistan', 5000.00),
('Sara Ahmed', 'sara.ahmed@example.com', '03111234567', 'Karachi, Pakistan', 7500.00);



✅ 2. Donations Table

-- Table for Donations
CREATE TABLE Donations (
    DonationID INT IDENTITY(1,1) PRIMARY KEY,
    DonorID INT,
    Amount DECIMAL(10,2) NOT NULL,
    PaymentMethod NVARCHAR(50),
    DonationDate DATETIME DEFAULT GETDATE(),
    FOREIGN KEY (DonorID) REFERENCES Donors(DonorID) ON DELETE SET NULL
);

-- Sample Data for Donations
INSERT INTO Donations (DonorID, Amount, PaymentMethod)
VALUES 
(1, 5000.00, 'Bank Transfer'),
(2, 7500.00, 'Credit Card');














✅ 3. Beneficiaries Table

CREATE TABLE Beneficiaries (
    BeneficiaryID INT IDENTITY(1,1) PRIMARY KEY,
    Name NVARCHAR(255) NOT NULL,
    Phone NVARCHAR(20),
    Address NVARCHAR(MAX),
    AidReceived DECIMAL(10,2) DEFAULT 0.00,
    CreatedAt DATETIME DEFAULT GETDATE()
);

-- Sample Data for Beneficiaries
INSERT INTO Beneficiaries (Name, Phone, Address, AidReceived)
VALUES 
('Imran Ali', '03211234567', 'Islamabad, Pakistan', 3000.00),
('Fatima Bibi', '03451234567', 'Multan, Pakistan', 4500.00);

    FOREIGN KEY (DonorID) REFERENCES Donors(DonorID) ON DELETE SET NULL
);

✅ 4. Volunteers Table
-- Table for Volunteers
CREATE TABLE Volunteers (
    VolunteerID INT IDENTITY(1,1) PRIMARY KEY,
    Name NVARCHAR(255) NOT NULL,
    Email NVARCHAR(255) UNIQUE,
    Phone NVARCHAR(20),
    Skills NVARCHAR(MAX),
    Availability NVARCHAR(100),
    CreatedAt DATETIME DEFAULT GETDATE()
);

-- Sample Data for Volunteers
INSERT INTO Volunteers (Name, Email, Phone, Skills, Availability)
VALUES 

('Zainab Raza', 'zainab.raza@example.com', '03031234567', 'Medical, Logistics', 'Weekends'),
('Usman Tariq', 'usman.tariq@example.com', '03341234567', 'Teaching, Driving', 'Weekdays');


✅ 5. Events Table
-- Table for Events
CREATE TABLE Events (
    EventID INT IDENTITY(1,1) PRIMARY KEY,
    Name NVARCHAR(255) NOT NULL,
    Description NVARCHAR(MAX),
    EventDate DATETIME,
    Location NVARCHAR(255),
    Budget DECIMAL(10,2),
    CreatedAt DATETIME DEFAULT GETDATE()
);

-- Sample Data for Events
INSERT INTO Events (Name, Description, EventDate, Location, Budget)
VALUES 
('Food Distribution Drive', 'Distribution of food packages to needy families', '2025-09-10', 'Lahore', 20000.00),
('Medical Camp', 'Free health checkup camp', '2025-09-15', 'Karachi', 30000.00);


✅ 6. Expenses Table
-- Table for Expenses
CREATE TABLE Expenses (
    ExpenseID INT IDENTITY(1,1) PRIMARY KEY,
    EventID INT,
    Description NVARCHAR(MAX),
    Amount DECIMAL(10,2) NOT NULL,
    ExpenseDate DATETIME DEFAULT GETDATE(),
    FOREIGN KEY (EventID) REFERENCES Events(EventID) ON DELETE SET NULL
);

-- Sample Data for Expenses
INSERT INTO Expenses (EventID, Description, Amount)
VALUES 
(1, 'Purchase of food items', 15000.00),
(2, 'Medical supplies', 25000.00);


✅ 7. BeneficiaryDonations Table
-- Table for BeneficiaryDonations
CREATE TABLE BeneficiaryDonations (
    ID INT IDENTITY(1,1) PRIMARY KEY,
    BeneficiaryID INT,
    DonationID INT,
    Amount DECIMAL(10,2) NOT NULL,
    DistributionDate DATETIME DEFAULT GETDATE(),
    FOREIGN KEY (BeneficiaryID) REFERENCES Beneficiaries(BeneficiaryID) ON DELETE SET NULL,
    FOREIGN KEY (DonationID) REFERENCES Donations(DonationID) ON DELETE SET NULL
);

-- Sample Data for BeneficiaryDonations
INSERT INTO BeneficiaryDonations (BeneficiaryID, DonationID, Amount)
VALUES 
(1, 1, 3000.00),
(2, 2, 4500.00);


✅ 8. VolunteerAssignments Table
-- Table for VolunteerAssignments
CREATE TABLE VolunteerAssignments (
    AssignmentID INT IDENTITY(1,1) PRIMARY KEY,
    VolunteerID INT,
    EventID INT,
    Role NVARCHAR(255),
    AssignedDate DATETIME DEFAULT GETDATE(),
    FOREIGN KEY (VolunteerID) REFERENCES Volunteers(VolunteerID) ON DELETE CASCADE,
    FOREIGN KEY (EventID) REFERENCES Events(EventID) ON DELETE CASCADE
);

-- Sample Data for VolunteerAssignments
INSERT INTO VolunteerAssignments (VolunteerID, EventID, Role)
VALUES 
(1, 1, 'Food Pack Distribution'),
(2, 2, 'Medical Assistant');































